{"ast":null,"code":"function memo() {\n  var submit = document.getElementById(\"submit\");\n  submit.addEventListener(\"click\", function (e) {\n    var formData = new FormData(document.getElementById(\"form\"));\n    var XHR = new XMLHttpRequest();\n    XHR.open(\"POST\", \"/posts\", true);\n    XHR.requestType = \"json\";\n    XHR.send(formData);\n\n    XHR.onload = function () {\n      if (XHR.status !== 200) {\n        alert(\"Error \".concat(XHR.status, \" : \").concat(XHR.statusText));\n        return null;\n      }\n\n      ;\n      var item = XHR.response.post;\n      var list = document.getElementById(\"list\");\n      var formText = document.getElementById(\"content\");\n      var HTML = \"\\n      <div class=\\\"post\\\" data-id=\".concat(item.id, \"> \\n        <div class=\\\"post-date\\\">\\n          \\u6295\\u7A3F\\u65E5\\u6642\\uFF1A \").concat(item.created_at, \"\\n        </div>\\n        <div class=\\\"post-content\\\">\\n          \").concat(item.content, \"\\n         </div>\\n      </div>\");\n      list.insertAdjacentHTML(\"afterend\", HTML);\n      formText.value = \"\";\n    };\n\n    e.preventDefault();\n  });\n}\n\n;\nwindow.addEventListener(\"load\", memo);","map":{"version":3,"sources":["/Users/matsuura/projects/ajax_app/app/javascript/memo.js"],"names":["memo","submit","document","getElementById","addEventListener","e","formData","FormData","XHR","XMLHttpRequest","open","requestType","send","onload","status","alert","statusText","item","response","post","list","formText","HTML","id","created_at","content","insertAdjacentHTML","value","preventDefault","window"],"mappings":"AAAA,SAASA,IAAT,GAAgB;AACd,MAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;AAEAF,EAAAA,MAAM,CAACG,gBAAP,CAAwB,OAAxB,EAAiC,UAACC,CAAD,EAAM;AACrC,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,CAAaL,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb,CAAjB;AACA,QAAMK,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACAD,IAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,EAAiB,QAAjB,EAA2B,IAA3B;AACAF,IAAAA,GAAG,CAACG,WAAJ,GAAkB,MAAlB;AACAH,IAAAA,GAAG,CAACI,IAAJ,CAASN,QAAT;;AACAE,IAAAA,GAAG,CAACK,MAAJ,GAAa,YAAM;AACjB,UAAIL,GAAG,CAACM,MAAJ,KAAe,GAAnB,EAAuB;AACrBC,QAAAA,KAAK,iBAAUP,GAAG,CAACM,MAAd,gBAA0BN,GAAG,CAACQ,UAA9B,EAAL;AACA,eAAO,IAAP;AACD;;AAAA;AACD,UAAMC,IAAI,GAAGT,GAAG,CAACU,QAAJ,CAAaC,IAA1B;AACA,UAAMC,IAAI,GAAGlB,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb;AACA,UAAMkB,QAAQ,GAAGnB,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAjB;AACA,UAAMmB,IAAI,iDACkBL,IAAI,CAACM,EADvB,6FAGEN,IAAI,CAACO,UAHP,+EAMJP,IAAI,CAACQ,OAND,oCAAV;AASAL,MAAAA,IAAI,CAACM,kBAAL,CAAwB,UAAxB,EAAoCJ,IAApC;AACAD,MAAAA,QAAQ,CAACM,KAAT,GAAiB,EAAjB;AACD,KAnBD;;AAoBAtB,IAAAA,CAAC,CAACuB,cAAF;AACD,GA3BD;AA4BD;;AAAA;AAEDC,MAAM,CAACzB,gBAAP,CAAwB,MAAxB,EAAgCJ,IAAhC","sourcesContent":["function memo() {\n  const submit = document.getElementById(\"submit\")\n\n  submit.addEventListener(\"click\", (e)=> {\n    const formData = new FormData(document.getElementById(\"form\"));\n    const XHR = new XMLHttpRequest();\n    XHR.open(\"POST\", \"/posts\", true);\n    XHR.requestType = \"json\";\n    XHR.send(formData);\n    XHR.onload = () => {\n      if (XHR.status !== 200){\n        alert(`Error ${XHR.status} : ${XHR.statusText}`);\n        return null;\n      };\n      const item = XHR.response.post;\n      const list = document.getElementById(\"list\");\n      const formText = document.getElementById(\"content\");\n      const HTML =`\n      <div class=\"post\" data-id=${item.id}> \n        <div class=\"post-date\">\n          投稿日時： ${item.created_at}\n        </div>\n        <div class=\"post-content\">\n          ${item.content}\n         </div>\n      </div>`;\n      list.insertAdjacentHTML(\"afterend\", HTML);\n      formText.value = \"\";\n    };\n    e.preventDefault();\n  });\n};\n\nwindow.addEventListener(\"load\", memo);"]},"metadata":{},"sourceType":"module"}